<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meta Shopping</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background: #fff;
      color: #333;
    }

    /* Note: Header & Footer are provided by fragments; avoid overriding their styles here */

    /* BANNER */
    .banner {
      width: 100%;
      max-height: 400px;
      overflow: hidden;
      position: relative;
    }

    .banner .slides {
      display: flex;
      width: 300%;
      animation: slide 12s infinite;
    }

    .banner img {
      width: 100%;
      height: auto;
      object-fit: cover;
      flex: 1 0 100%;
    }

    @keyframes slide {
      0%   { transform: translateX(0%); }
      25%  { transform: translateX(0%); }
      35%  { transform: translateX(-100%); }
      60%  { transform: translateX(-100%); }
      70%  { transform: translateX(-200%); }
      95%  { transform: translateX(-200%); }
      100% { transform: translateX(0%); }
    }

    /* PRODUCTS */
    .products {
      padding: 30px 20px;
    }

    .products h2 {
      text-align: center;
      font-size: 26px;
      margin-bottom: 25px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .product-card {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 16px;
      text-align: center;
      background: #fff;
      transition: transform 0.2s;
    }
    .product-card:hover {
      transform: translateY(-5px);
    }
    .product-card img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 12px;
    }
    .product-card h3 {
      font-size: 18px;
      margin: 10px 0;
    }
    .product-card .price {
      color: red;
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 12px;
    }
    .actions {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }
    .btn {
      flex: 1;
      padding: 8px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
    }
    .add-to-cart {
      background: #f5f5f5;
      color: #333;
    }
    .add-to-cart:hover {
      background: #ddd;
    }
    .buy-now {
      background: #ff4d4f;
      color: white;
    }
    .buy-now:hover {
      background: #e03e3f;
    }

    .hidden {
      display: none;
    }

    .load-more-container {
      text-align: center;
      margin-top: 20px;
    }

    .btn.load-more {
      background: #007bff;
      color: white;
      padding: 12px 25px;
      border-radius: 8px;
      font-size: 16px;
    }

    .btn.load-more:hover {
      background: #0056b3;
    }

    /* Footer styles come from fragment */

    /* RESPONSIVE */
    @media(max-width: 768px){
      .banner { height: 200px; }
    }

    @media(max-width: 480px){
      .product-card h3 {
        font-size: 16px;
      }
      .product-card p {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

<div th:replace="~{fragments/header :: header}"></div>

<!-- BODY -->
<main>
  <section class="banner">
    <div class="slides">
      <img src="https://via.placeholder.com/1600x400/ff4d4f/ffffff?text=Banner+1" alt="Banner 1">
      <img src="https://via.placeholder.com/1600x400/222/ffffff?text=Banner+2" alt="Banner 2">
      <img src="https://via.placeholder.com/1600x400/007bff/ffffff?text=Banner+3" alt="Banner 3">
    </div>
  </section>

  <section class="products">
    <h2>Sản phẩm bán chạy</h2>
    <div class="product-grid" id="productGrid">
      <!-- Sản phẩm 1 -->
      <div class="product-card">
        <img src="https://via.placeholder.com/200" alt="sp1">
        <h3>Áo sơ mi Aristino</h3>
        <p class="price">850,000đ</p>
        <div class="actions">
          <button class="btn add-to-cart">Thêm Giỏ hàng</button>
          <button class="btn buy-now">Mua ngay</button>
        </div>
      </div>

      <!-- Sản phẩm 2 -->
      <div class="product-card">
        <img src="https://via.placeholder.com/200" alt="sp2">
        <h3>Áo Polo Aristino</h3>
        <p class="price">650,000đ</p>
        <div class="actions">
          <button class="btn add-to-cart">Thêm Giỏ hàng</button>
          <button class="btn buy-now">Mua ngay</button>
        </div>
      </div>

      <!-- Sản phẩm 3 -->
      <div class="product-card">
        <img src="https://via.placeholder.com/200" alt="sp3">
        <h3>Quần âu Aristino</h3>
        <p class="price">950,000đ</p>
        <div class="actions">
          <button class="btn add-to-cart">ThêmGiỏ hàng</button>
          <button class="btn buy-now">Mua ngay</button>
        </div>
      </div>

      <!-- Sản phẩm 4 (ẩn) -->
      <div class="product-card hidden">
        <img src="https://via.placeholder.com/200" alt="sp4">
        <h3>Áo Khoác Bomber</h3>
        <p class="price">1,200,000đ</p>
        <div class="actions">
          <button class="btn add-to-cart">+ Giỏ hàng</button>
          <button class="btn buy-now">Mua ngay</button>
        </div>
      </div>
    </div>

    <!-- Nút xem thêm -->
    <div class="load-more-container">
      <button id="loadMore" class="btn load-more">Xem thêm sản phẩm</button>
    </div>
  </section>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>

<!-- JS -->
<script>
  document.getElementById("loadMore").addEventListener("click", function () {
    let hiddenProducts = document.querySelectorAll(".product-card.hidden");
    for (let i = 0; i < 2 && i < hiddenProducts.length; i++) {
      hiddenProducts[i].classList.remove("hidden");
    }
    if (document.querySelectorAll(".product-card.hidden").length === 0) {
      this.style.display = "none";
    }
  });
</script>
</body>
</html>
